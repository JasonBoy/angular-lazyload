/**
 * @license
 * Angular directive for lazy loading while swiping up, especially for swiping up in mobile
 * https://github.com/JasonBoy/angular-lazyload#readme
 * License: MIT
 */
!function(i,n){"use strict";var t=n.module("lazyload",[]);t.directive("lazyload",["$timeout",function(n){return{restrict:"A",scope:{loadingText:"@",offsetBottom:"@",waitDuration:"@"},link:function(t,o,a){function e(){if(!t.lazyLoading&&!r){var i=c.getBoundingClientRect(),a=screen.availHeight;(g||u)&&a-i.bottom>=s&&(u=!1,o.html(l),t.lazyLoading=!0,o.css("visibility","visible"),n(function(){t.$emit("lazyLoading")},d))}}o.css("visibility","hidden"),t.lazyLoading=!1;var l=t.loadingText||"loading...",s=isNaN(parseInt(t.offsetBottom))?10:parseInt(t.offsetBottom),d=isNaN(parseInt(t.waitDuration))?500:parseInt(t.waitDuration),r=!1;t.$on("lazyLoadingFinished",function(){t.lazyLoading=!1,o.css("visibility","hidden"),console.log("loading finished")}),t.$on("allLoaded",function(){r=!0,t.lazyLoading=!1,o.css("visibility","hidden"),i.removeEventListener("scroll",e,!1)});var c=o[0],g=!0,u=!0;i.addEventListener("scroll",e,!1)}}}])}(window,window.angular);