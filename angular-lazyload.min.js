/**!
 * @license
 * Angular directive for lazy loading while swiping up, especially for swiping up in mobile
 * https://github.com/JasonBoy/angular-lazyload#readme
 * License: MIT
 */
!function(i,t){"use strict";var n=t.module("lazyload",[]);n.directive("lazyload",["$timeout",function(t){return{restrict:"EA",scope:{loadingText:"@",offsetBottom:"@",waitDuration:"@",scale:"@"},replace:!0,link:function(n,a){function o(){if(!n.lazyLoading&&!r){var i=c.getBoundingClientRect(),o=screen.availHeight;(u||f)&&o-i.bottom*n.scale>=s&&(f=!1,e||a.html(l),n.lazyLoading=!0,a.css("visibility","visible"),t(function(){n.$emit("lazyLoading")},d))}}var e=!!a.html();a.css("visibility","hidden"),n.lazyLoading=!1,n.scale||(n.scale=1);var l=n.loadingText||"loading...",s=isNaN(Number(n.offsetBottom))?10:Number(n.offsetBottom),d=isNaN(Number(n.waitDuration))?500:Number(n.waitDuration),r=!1,c=a[0],u=!0,f=!0;n.$on("lazyLoadingFinished",function(){n.lazyLoading=!1,a.css("visibility","hidden")}),n.$on("allLoaded",function(){r=!0,n.lazyLoading=!1,a.css("visibility","hidden"),i.removeEventListener("scroll",o,!1)}),i.addEventListener("scroll",o,!1)}}}])}(window,window.angular);