/**!
 * @license
 * Angular directive for lazy loading while swiping up, especially for swiping up in mobile
 * https://github.com/JasonBoy/angular-lazyload#readme
 * License: MIT
 */
!function(i,t){"use strict";var n=t.module("lazyload",[]);n.directive("lazyload",["$timeout",function(t){return{restrict:"A",scope:{loadingText:"@",offsetBottom:"@",waitDuration:"@"},link:function(n,o,a){function e(){if(!n.lazyLoading&&!r){var i=c.getBoundingClientRect(),a=screen.availHeight;(u||f)&&a-i.bottom>=l&&(f=!1,o.html(s),n.lazyLoading=!0,o.css("visibility","visible"),t(function(){n.$emit("lazyLoading")},d))}}o.css("visibility","hidden"),n.lazyLoading=!1;var s=n.loadingText||"loading...",l=isNaN(parseInt(n.offsetBottom))?10:parseInt(n.offsetBottom),d=isNaN(parseInt(n.waitDuration))?500:parseInt(n.waitDuration),r=!1;n.$on("lazyLoadingFinished",function(){n.lazyLoading=!1,o.css("visibility","hidden")}),n.$on("allLoaded",function(){r=!0,n.lazyLoading=!1,o.css("visibility","hidden"),i.removeEventListener("scroll",e,!1)});var c=o[0],u=!0,f=!0;i.addEventListener("scroll",e,!1)}}}])}(window,window.angular);